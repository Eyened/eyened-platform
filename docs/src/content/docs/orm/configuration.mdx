---
title: Eyened ORM configuration
description: Learn how to configure the Eyened ORM for database access and file management
sidebar:
  order: 2
---

## Configuration Options

The Eyened ORM can be configured through environment variables or by passing configuration parameters directly. The following sections describe all available configuration options:

### Database Settings

| Option | Required | Description |
|--------|----------|-------------|
| DATABASE_USER | Yes | Database username |
| DATABASE_PASSWORD | Yes | Database password |
| DATABASE_HOST | Yes | Database host address |
| DATABASE_NAME | Yes | Database name |
| DATABASE_PORT | Yes | Database port number |

### Global Settings

| Option | Required | Default | Description |
|--------|----------|---------|-------------|
| secret_key | No | "6f4b661212" | Secret key used for password hashing and file name obfuscation |
| images_basepath | No | "/images" | Base path for image storage (in docker deployment by default mapped to "/images") |
| segmentations_zarr_store | No | "/storage/segmentations.zarr" | Path to the zarr store containing segmentations. Used by the platform for reading and writing segmentations |
| thumbnails_path | No | "/storage/thumbnails" | Folder containing the thumbnail structure. Used by the ORM to read thumbnails and by the importer to write thumbnails on insertion |
| default_study_date | No | "1970-01-01" | Default date for new studies when no date is provided |
| cfi_cache_path | No | None | Path of a cache for fundus images. Used by the importer to write a preprocessed version of the images |
| image_server_url | No | None | URL of the image server endpoint for generating image URLs |

## Initialization

The Eyened ORM can be initialized in several ways:

1. **Passing configuration as keyword arguments**
2. **Passing a string/path to an environment file**
3. **Passing None (will read from environment variables)**

## Usage

```python
from eyened_orm import Database

# Initialize database
database = Database()

# Manual session management (must be closed manually)
session = database.create_session()
try:
    # Use session for database operations
    pass
finally:
    session.close()

# Context managed session (automatically closed)
with database.get_session() as session:
    # Use session for database operations
    pass
```

You can easily switch between environments by maintaining multiple environment files (e.g., `development.env`, `production.env`).

